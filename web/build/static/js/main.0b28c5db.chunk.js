(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{154:function(e,a,t){},155:function(e,a,t){},279:function(e,a,t){},280:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(42),o=t.n(i),c=(t(154),t(155),"localhost"===window.location.hostname.split(":")[0]?"http://localhost:5001":""),l=t(30),s=t.n(l),d=t(15),h=(t(174),t.p+"static/media/splash.a6542106.jpeg"),u=t(2);var j=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{style:{backgroundColor:"#181415",width:"100%",height:"90vh"},children:Object(u.jsx)("img",{style:{width:"100%",position:"fixed",bottom:"0px"},src:h,alt:""})})})},m=t(317),p=t(319),b=t(36),x=t(12),O=t(46),f=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.name&&a.payload.email&&a.payload._id?Object(O.a)(Object(O.a)({},e),{},{user:a.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(O.a)(Object(O.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(O.a)(Object(O.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},g=Object(n.createContext)("Initial Value"),v={darkTheme:!0,user:void 0};function w(e){var a=e.children,t=Object(n.useReducer)(f,v),r=Object(x.a)(t,2),i=r[0],o=r[1];return Object(u.jsx)(g.Provider,{value:{state:i,dispatch:o},children:a})}var y=t(323),C=t(322),E=t(324),S=t(320),G=t(70),L=b.a({email:b.b("Enter your email").email("Enter a valid email").required("Email is required"),password:b.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required")});var T=function(){var e=Object(d.f)(),a=Object(n.useContext)(g).dispatch,t=Object(G.a)({validationSchema:L,initialValues:{email:"",password:""},onSubmit:function(e){console.log("values: ",e),s.a.post("".concat(c,"/api/v1/login"),{email:e.email,password:e.password},{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email&&a({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id}})}))}});return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a,{sx:{flexGrow:1},children:Object(u.jsx)(y.a,{position:"static",children:Object(u.jsxs)(E.a,{children:[Object(u.jsx)(S.a,{variant:"h6",color:"inherit",onClick:function(){e.push("/")},sx:{flexGrow:2},children:"Login"}),Object(u.jsx)(S.a,{variant:"h6",color:"inherit",onClick:function(){e.push("/signup")},sx:{flexGrow:2},children:"Signup"})]})})}),Object(u.jsxs)("div",{style:{margin:"2rem"},children:[Object(u.jsx)("h1",{style:{textAlign:"center",color:"blueviolet"},children:"Login page"}),Object(u.jsx)("form",{onSubmit:t.handleSubmit,children:Object(u.jsxs)(m.a,{spacing:2,children:[Object(u.jsx)(p.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"outlined",name:"email",value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email}),Object(u.jsx)(p.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password}),Object(u.jsx)(S.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Login"}),Object(u.jsx)(S.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.push("/signup")},children:"Create an Account"})]})})]})]})},_=b.a({name:b.b("Enter your name").required("Name is required"),email:b.b("Enter your email").email("Enter a valid email").required("Email is required"),password:b.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required")});var k=function(){var e=Object(d.f)(),a=Object(G.a)({validationSchema:_,initialValues:{name:"",email:"",password:""},onSubmit:function(e){s.a.post("".concat(c,"/api/v1/signup"),{name:e.name,email:e.email,password:e.password}).then((function(e){console.log("res: ",e.data)}))}});return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a,{sx:{flexGrow:1},children:Object(u.jsx)(y.a,{position:"static",sx:{flexGrow:1},children:Object(u.jsxs)(E.a,{children:[Object(u.jsx)(S.a,{variant:"h6",color:"inherit",onClick:function(){e.push("/")},sx:{flexGrow:1},children:"Login"}),Object(u.jsx)(S.a,{variant:"h6",color:"inherit",onClick:function(){e.push("/signup")},sx:{flexGrow:1},children:"Signup"})]})})}),Object(u.jsxs)("div",{style:{margin:"2rem"},children:[Object(u.jsx)("h1",{style:{textAlign:"center",color:"blueviolet"},children:"Signup page"}),Object(u.jsx)("form",{onSubmit:a.handleSubmit,children:Object(u.jsxs)(m.a,{spacing:2,children:[Object(u.jsx)(p.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Full Name",variant:"outlined",name:"name",value:a.values.name,onChange:a.handleChange,error:a.touched.name&&Boolean(a.errors.name),helperText:a.touched.name&&a.errors.name}),Object(u.jsx)(p.a,{fullWidth:!0,color:"primary",id:"outlined-ba",label:"Email",variant:"outlined",name:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email}),Object(u.jsx)(p.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password}),Object(u.jsx)(S.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Signup"}),Object(u.jsx)(S.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.push("/")},children:"Already have an Account"})]})})]})]})},B=t(325),U=(t(279),t(326)),W=t(327);var q=function(){Object(d.f)();var e=Object(n.useContext)(g).dispatch,a=Object(n.useState)([]),t=Object(x.a)(a,2),r=t[0],i=t[1],o=Object(n.useState)(!0),l=Object(x.a)(o,2),h=l[0],j=l[1],m=h?"none":"display";return Object(n.useEffect)((function(){s.a.get("".concat(c,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),i(e.data)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a,{children:Object(u.jsx)(y.a,{position:"static",children:Object(u.jsxs)(E.a,{children:[Object(u.jsx)(B.a,{variant:"h6",color:"inherit",component:"div",sx:{flexGrow:1},children:"Welcome ".concat(r.name)}),Object(u.jsx)(S.a,{variant:"h6",color:"inherit",onClick:function(){s.a.post("".concat(c,"/api/v1/logout"),{},{withCredentials:!0}).then((function(a){console.log("res +++: ",a.data),e({type:"USER_LOGOUT"})}))},children:"Logout"}),Object(u.jsx)(S.a,{variant:"h6",color:"inherit",onClick:function(){s.a.get("".concat(c,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),i(e.data),j(!1)}))},children:"get profile"})]})})}),Object(u.jsx)(U.a,{className:m,sx:{maxWidth:350},style:{margin:"10px auto"},children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(B.a,{color:"primary",gutterBottom:!0,children:"Name:"}),Object(u.jsxs)(B.a,{variant:"h5",color:"primary",gutterBottom:!0,children:[" ",r.name]}),Object(u.jsx)(B.a,{color:"primary",gutterBottom:!0,children:"Email:"}),Object(u.jsx)(B.a,{variant:"h6",color:"primary",gutterBottom:!0,children:r.email}),Object(u.jsx)(B.a,{color:"primary",gutterBottom:!0,children:"id:"}),Object(u.jsx)(B.a,{sx:{mb:2},color:"primary",children:r._id})]})})]})};var F=function(){var e=Object(n.useContext)(g),a=e.state,t=e.dispatch;return Object(n.useEffect)((function(){return s.a.get("".concat(c,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email?t({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id}}):t({type:"USER_LOGOUT"})})).catch((function(e){t({type:"USER_LOGOUT"}),console.log(e)})),function(){}}),[]),Object(u.jsxs)(u.Fragment,{children:[void 0===a.user?Object(u.jsx)(d.c,{children:Object(u.jsx)(d.a,{exact:!0,path:"/",children:Object(u.jsx)(j,{})})}):null,null===a.user?Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",component:T}),Object(u.jsx)(d.a,{exact:!0,path:"/signup",component:k})]}):null,a.user?Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",children:Object(u.jsx)(q,{})}),Object(u.jsx)(d.a,{exact:!0,path:"/**",component:q})]}):null]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,329)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,i=a.getLCP,o=a.getTTFB;t(e),n(e),r(e),i(e),o(e)}))},P=t(87);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(w,{children:Object(u.jsx)(P.a,{children:Object(u.jsx)(F,{})})})}),document.getElementById("root")),N()}},[[280,1,2]]]);
//# sourceMappingURL=main.0b28c5db.chunk.js.map